<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CalculatorService.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Calculator with JUnit5 and Cucumber tests</a> &gt; <a href="index.source.html" class="el_package">calculator.service</a> &gt; <span class="el_source">CalculatorService.java</span></div><h1>CalculatorService.java</h1><pre class="source lang-java linenums">package calculator.service;


import calculator.*;
import calculator.util.AngleConverter;
import calculator.values.*;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Service;

import java.util.ArrayList;

@Service
<span class="fc" id="L14">public class CalculatorService {</span>
<span class="fc" id="L15">    private static final Logger logger = LoggerFactory.getLogger(CalculatorService.class);</span>

    /**
     * Processes a simple binary arithmetic operation using integers.
     *
     * @param sign    the arithmetic operator as string (e.g., &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;)
     * @param number1 the first integer number
     * @param number2 the second integer number
     * @return the result of the operation as a string or an error message in case of failure.
     */
    public String getRep(String sign,int number1,int number2) {
<span class="fc" id="L26">        Calculator c = new Calculator();</span>
        Operation op;
<span class="fc" id="L28">        ArrayList&lt;Expression&gt; params = new ArrayList&lt;&gt;();</span>
        try {
            // Create a list of expressions for the operands.
<span class="fc" id="L31">            params.add(new MyNumber(new IntegerValue(number1)));</span>
<span class="fc" id="L32">            params.add(new MyNumber(new IntegerValue(number2)));</span>
            // Create the operation based on the sign.
<span class="fc bfc" id="L34" title="All 5 branches covered.">                switch (sign) {</span>
                    case &quot;+&quot;:
<span class="fc" id="L36">                        op = new Plus(params);</span>
<span class="fc" id="L37">                        break;</span>
                    case &quot;-&quot;:
<span class="fc" id="L39">                        op = new Minus(params);</span>
<span class="fc" id="L40">                        break;</span>
                    case &quot;*&quot;:
<span class="fc" id="L42">                        op = new Times(params);</span>
<span class="fc" id="L43">                        break;</span>
                    case &quot;/&quot;:
<span class="fc" id="L45">                        op = new Divides(params);</span>
<span class="fc" id="L46">                        break;</span>
                    default:
<span class="fc" id="L48">                        logger.error(&quot;Invalid operator received for the integer operation: {}&quot;, sign);</span>
                        // Return an error message for an invalid operator.
<span class="fc" id="L50">                        return &quot;Error: Invalid operator used in the getRep '&quot; + sign + &quot;'&quot;;</span>
                }

<span class="fc" id="L53">            NumericValue result = c.eval(op);</span>
<span class="fc" id="L54">            return result.toString();</span>

<span class="fc" id="L56">        } catch (Exception e) {</span>
<span class="fc" id="L57">            logger.error(&quot;Calculation failed in getRep&quot;, e);</span>
<span class="fc" id="L58">            return &quot;Error in getRep: &quot; + e.getMessage();</span>
        }
        }



    /**
     * Processes a simple binary arithmetic operation using complex numbers.
     *
     * @param sign the arithmetic operator as string (e.g., &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;)
     * @param real1 the real part of the first complex number
     * @param complex1 the imaginary part fot the first complex number
     * @param real2 the real part of the second complex number
     * @param complex2 the imaginary part fot the second complex number
     * @return the result of the operation as a string or an error message in case of failure.
     */

    public String getComplexRep(String sign,int real1,int complex1,int real2,int complex2) {

        try {
<span class="fc" id="L78">            ComplexValue first =new ComplexValue(real1,complex1);</span>
<span class="fc" id="L79">            ComplexValue second =new ComplexValue(real2,complex2);</span>
            NumericValue result;

<span class="pc bpc" id="L82" title="2 of 5 branches missed.">            switch (sign) {</span>
                case &quot;+&quot;:
<span class="fc" id="L84">                    result = first.add(second);</span>
<span class="fc" id="L85">                    break;</span>
                case &quot;-&quot;:
<span class="fc" id="L87">                    result=first.subtract(second);</span>
<span class="fc" id="L88">                    break;</span>
                case &quot;*&quot;:
<span class="nc" id="L90">                    result =first.multiply(second);</span>
<span class="nc" id="L91">                    break;</span>
                case &quot;/&quot;:
<span class="fc" id="L93">                   result =  first.divide(second);</span>
<span class="fc" id="L94">                    break;</span>
                default:
<span class="nc" id="L96">                    logger.error(&quot;Invalid operator received for the complex operation: {}&quot;, sign);</span>
                    // Return an error message for an invalid operator.
<span class="nc" id="L98">                    return &quot;Error: Invalid operator in getComplexRep '&quot; + sign + &quot;'&quot;;</span>
            }
<span class="fc" id="L100">            return result.toString();</span>
<span class="nc" id="L101">        }catch (Exception e) {</span>
<span class="nc" id="L102">            logger.error(&quot;Calculation failed in getComplexRep&quot;, e);</span>
<span class="nc" id="L103">            return &quot;Error in getComplexRep: &quot; + e.getMessage();</span>
        }
    }

    /**
     * Processes a simple binary arithmetic operation using real numbers.
     *
     * @param sign the arithmetic operator as string (e.g., &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;)
     * @param real1 the first real argument
     * @param real2 the second real argument
     * @return the result of the operation as a string or an error message in case of failure.
     */
    public String getRealRep(String sign,double real1,double real2) {
        try {
<span class="fc" id="L117">            RealValue first =new RealValue( real1,4);</span>
<span class="fc" id="L118">            RealValue second =new RealValue(real2,4);</span>
            NumericValue result;

<span class="pc bpc" id="L121" title="1 of 5 branches missed.">            switch (sign) {</span>
                case &quot;+&quot;:
<span class="fc" id="L123">                    result = first.add(second);</span>
<span class="fc" id="L124">                    break;</span>
                case &quot;-&quot;:
<span class="fc" id="L126">                    result=first.subtract(second);</span>
<span class="fc" id="L127">                    break;</span>
                case &quot;*&quot;:
<span class="fc" id="L129">                    result =first.multiply(second);</span>
<span class="fc" id="L130">                    break;</span>
                case &quot;/&quot;:
<span class="fc" id="L132">                    result =  first.divide(second);</span>
<span class="fc" id="L133">                    break;</span>
                default:
<span class="nc" id="L135">                    logger.error(&quot;Invalid operator received for the real operation: {}&quot;, sign);</span>
                    // Return an error message for an invalid operator.
<span class="nc" id="L137">                    return &quot;Error: Invalid operator '&quot; + sign + &quot;'&quot;;        }</span>

<span class="fc" id="L139">            return result.toString();</span>
        }
<span class="nc" id="L141">        catch (Exception e) {</span>
<span class="nc" id="L142">        logger.error(&quot;Calculation failed&quot;, e);</span>
<span class="nc" id="L143">        return &quot;Error: &quot; + e.getMessage();</span>
        }
    }


    /**
     * Processes a simple binary arithmetic operation using rational numbers.
     *
     * @param sign the arithmetic operator as string (e.g., &quot;+&quot;, &quot;-&quot;, &quot;*&quot;, &quot;/&quot;)
     * @param num1 the numerator of the first argument
     * @param den1 the denominator of the first argument
     * @param num2 the numerator of the second argument
     * @param den2 the denominator of the second argument
     * @return the result of the operation as a string or an error message in case of failure.
     */
    public String getRationalRep(String sign,int num1,int den1,int num2,int den2) {

        try {
<span class="fc" id="L161">            RationalValue first =new RationalValue(num1,den1);</span>
<span class="fc" id="L162">            RationalValue second = new RationalValue(num2,den2);</span>
            NumericValue result;
<span class="pc bpc" id="L164" title="1 of 5 branches missed.">            switch (sign) {</span>
                case &quot;+&quot;:
<span class="fc" id="L166">                    result = first.add(second);</span>
<span class="fc" id="L167">                    break;</span>
                case &quot;-&quot;:
<span class="fc" id="L169">                    result=first.subtract(second);</span>
<span class="fc" id="L170">                    break;</span>
                case &quot;*&quot;:
<span class="fc" id="L172">                    result =first.multiply(second);</span>
<span class="fc" id="L173">                    break;</span>
                case &quot;/&quot;:
<span class="fc" id="L175">                    result =  first.divide(second);</span>
<span class="fc" id="L176">                    break;</span>
                default:
<span class="nc" id="L178">                    logger.error(&quot;Invalid operator received for the rational operation: {}&quot;, sign);</span>
                    // Return an error message for an invalid operator.
<span class="nc" id="L180">                    return &quot;Error: Invalid operator in getRationalRep '&quot; + sign + &quot;'&quot;;</span>
            }
<span class="fc" id="L182">            return result.toString();</span>
<span class="nc" id="L183">        }catch (Exception e) {</span>
<span class="nc" id="L184">            logger.error(&quot;Calculation failed  in getRationalRep&quot;, e);</span>
<span class="nc" id="L185">            return &quot;Error:  in getRationalRep&quot; + e.getMessage();</span>
        }

    }

    /**
     * Processes conversion from degree to radians
     *
     * @param degree the degree to be converted in radians
     * @return the result of the conversion as a string or an error message in case of failure.
     */
    public String getFromDegreeToRadian(double degree){
        try{
<span class="fc" id="L198">            double response  = AngleConverter.degreesToRadians(degree);</span>
<span class="fc" id="L199">            return String.valueOf(response);</span>

<span class="nc" id="L201">        }catch (Exception e){</span>
<span class="nc" id="L202">            logger.error(&quot;Calculation failed in getFromDegreeToRadian&quot;, e);</span>
<span class="nc" id="L203">            return &quot;Error in getFromDegreeToRadian&quot; + e.getMessage();</span>
        }

    }
    /**
     * Processes conversion from radians to degrees
     *
     * @param radian the degree to be converted in degrees
     * @return the result of the conversion as a string or an error message in case of failure.
     */
    public String getFromRadianToDegree(double radian){
        try{
<span class="fc" id="L215">            double response  = AngleConverter.radiansToDegrees(radian);</span>
<span class="fc" id="L216">            return String.valueOf(response);</span>

<span class="nc" id="L218">        }catch (Exception e){</span>
<span class="nc" id="L219">            logger.error(&quot;Calculation failed in getFromRadianToDegree&quot;, e);</span>
<span class="nc" id="L220">            return &quot;Error in getFromRadianToDegree&quot; + e.getMessage();</span>
        }

    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>